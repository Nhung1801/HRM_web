<div class="container-fluid p-0">
    <div class="row g-0 m-0">
        <div class="col-lg-4 p-0 ">
            <div class="authentication-page-content p-4 d-flex align-items-center ">
                <div class="w-100">
                    <div class="row justify-content-center">
                        <div class="col-lg-9">
                            <div>
                                <div class="text-center">
                                    <div>
                                        <a [routerLink]="Page.RecoverPassword" class="logo"><img
                                                src="assets/about-me/logo_1.png" height="80" alt="logo"></a>
                                    </div>

                                    <h4 class="font-size-18 mt-4">Quên mật khẩu</h4>
                                    <p class="text-muted">Đổi mật khẩu đến SMO media</p>
                                </div>
                                <div class="p-2 mt-5" *ngIf="setPasswordFlag==SetPasswordConstant.SendOtp">
                                    <div class="alert alert-success mb-4 d-flex justify-content-center align-items-center"
                                        role="alert">
                                        Nhập Email của bạn và hướng dẫn sẽ được gửi đến bạn!
                                    </div>
                                    <form [formGroup]="sendOtpForm" (submit)="handleSendOtp()">
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <i class="pi pi-envelope auti-custom-input-icon"></i>
                                            <label for="email">Email</label>
                                            <input formControlName="toEmail" name="email" type="text"
                                                class="form-control custom-emai" id="email" placeholder="Nhập email">
                                            <app-validation-message [form]="sendOtpForm" [messages]="validationMessages"
                                                field="toEmail"></app-validation-message>
                                        </div>

                                        <div class="mt-4 text-center">
                                            <button class="btn btn-primary w-md waves-effect waves-light"
                                                type="submit">Lấy OTP</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="p-2 mt-5" *ngIf="setPasswordFlag==SetPasswordConstant.FillOtp">
                                    <div class="alert alert-success mb-4 d-flex justify-content-center align-items-center"
                                        role="alert">
                                        Nhập mã Otp được gửi đến email bạn!
                                    </div>
                                    <form [formGroup]="fillOtpForm" (submit)="handleFillOtp()">
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <i class="pi pi-envelope auti-custom-input-icon"></i>
                                            <label for="email">Email</label>
                                            <input formControlName="email" name="email" type="text"
                                                class="form-control custom-emai" id="email" placeholder="Nhập email" readonly> 
                                            <app-validation-message [form]="fillOtpForm" [messages]="validationMessages"
                                                field="email"></app-validation-message>
                                        </div>
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <div class="otp-section">
                                                <div class="otp-inputs">
                                                    <input #otp1Input type="text" maxlength="1" class="otp-input"
                                                        (blur)="validateOtp()"
                                                        [(ngModel)]="otp1" [ngModelOptions]="{standalone: true}"
                                                        (paste)="onPaste($event)"
                                                        (input)="moveToNext(otp1Input, otp2Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                    <input #otp2Input type="text" maxlength="1" class="otp-input"
                                                        [(ngModel)]="otp2" [ngModelOptions]="{standalone: true}"
                                                        (input)="moveToNext(otp2Input, otp3Input); validateOtp()"
                                                        (keydown)="moveToPrev($event, otp1Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                    <input #otp3Input type="text" maxlength="1" class="otp-input"
                                                        [(ngModel)]="otp3" [ngModelOptions]="{standalone: true}"
                                                        (input)="moveToNext(otp3Input, otp4Input); validateOtp()"
                                                        (keydown)="moveToPrev($event, otp2Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                    <input #otp4Input type="text" maxlength="1" class="otp-input"
                                                        [(ngModel)]="otp4" [ngModelOptions]="{standalone: true}"
                                                        (input)="moveToNext(otp4Input, otp5Input); validateOtp()"
                                                        (keydown)="moveToPrev($event, otp3Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                    <input #otp5Input type="text" maxlength="1" class="otp-input"
                                                        [(ngModel)]="otp5" [ngModelOptions]="{standalone: true}"
                                                        (input)="moveToNext(otp5Input, otp6Input); validateOtp()"
                                                        (keydown)="moveToPrev($event, otp4Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                    <input #otp6Input type="text" maxlength="1" class="otp-input"
                                                        [(ngModel)]="otp6" [ngModelOptions]="{standalone: true}"
                                                        (input)="validateOtp(); validateOtp()"
                                                        (keydown)="moveToPrev($event, otp5Input); validateOtp()"
                                                        (keypress)="onlyNumbers($event)">
                                                </div>
                                            </div>
                                            <input formControlName="otp" name="otp" type="text"
                                                class="form-control custom-emai d-none" id="otp" placeholder="Nhập otp">
                                            <app-validation-message [form]="fillOtpForm" [messages]="validationMessages"
                                                field="otp"></app-validation-message>
                                        </div>
                                        <div class="mt-4 text-center">
                                            <button class="btn btn-primary w-md waves-effect waves-light"
                                                type="submit">Thiết lập mật khẩu</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="p-2 mt-5" *ngIf="setPasswordFlag==SetPasswordConstant.SetPassword">
                                    <div class="alert alert-success mb-4 d-flex justify-content-center align-items-center"
                                        role="alert">
                                        Nhập mật khẩu mới cho tài khoản của bạn!
                                    </div>
                                    <form [formGroup]="setPasswordForm" (submit)="handleSetPassword()">
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <i class="pi pi-envelope auti-custom-input-icon"></i>
                                            <label for="email">Email</label>
                                            <input formControlName="email" name="email" type="text"
                                                class="form-control custom-emai" id="email" placeholder="Nhập email" readonly>
                                            <app-validation-message [form]="setPasswordForm"
                                                [messages]="validationMessages" field="email"></app-validation-message>
                                        </div>
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <i class="pi pi-key auti-custom-input-icon" ></i>
                                            <label for="password">Mật khẩu</label>
                                            <input formControlName="newPassword" name="password" type="password"
                                                class="form-control" id="password" placeholder="Nhập mật khẩu">
                                            <app-validation-message [form]="setPasswordForm"
                                                [messages]="validationMessages"
                                                field="newPassword"></app-validation-message>
                                        </div>
                                        <div class="form-group auth-form-group-custom mb-4">
                                            <i class="pi pi-key auti-custom-input-icon" ></i>
                                            <label for="repeatPassword">Mật khẩu nhập lại</label>
                                            <input formControlName="repeatNewPassword" name="password" type="password"
                                                class="form-control" id="repeatPassword" placeholder="Nhập mật lại khẩu">
                                            <app-validation-message [form]="setPasswordForm"
                                                [messages]="validationMessages"
                                                field="repeatNewPassword"></app-validation-message>
                                        </div>

                                        <div class="mt-4 text-center">
                                            <button class="btn btn-primary w-md waves-effect waves-light"
                                                type="submit">Xác nhận</button>
                                        </div>
                                    </form>
                                </div>

                                <div class="mt-5 text-center">
                                    <p>Đã có tài khoản ? <a routerLink="/auth/login"
                                            class="fw-medium text-primary"> Đăng nhập </a> </p>
                                    <p class="mb-0">©
                                        <script>document.write(new Date().getFullYear())</script> Bản quyền thuộc về SMO
                                        media <i class="pi pi-heart-fill text-danger"></i>
                                    </p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8 d-none d-md-block">
            <div class="authentication-bg d-flex">
                <div class="d-flex align-items-center">
                    <!-- <img src="assets//template/images/comingsoon-bg.jpg" class="fluid-img w-100 h-100" alt=""> -->
                    <img src="assets/about-me/background_2000_1333.png" class="fluid-img w-100 h-100" alt="">
                </div>
            </div>
        </div>
    </div>
</div>